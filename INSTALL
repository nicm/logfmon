I've currently tested on OpenBSD 3.6 and FreeBSD 4.10.

The Makefile requires BSD make.

To install, do:

	make

then, as root:
	
	make install

By default, the executable is put in /usr/local/sbin and the man pages in
/usr/local/man.

Create a logfmon.conf in /etc. My current logfmon.conf is included. Be careful
to escape characters that need it properly. This is my first attempt at
using lex/yacc so it may be a bit fragile, I'd appreciate feedback if so.

On OpenBSD, I add these lines to /etc/rc.local to run logfmon on startup:

	if [ -x /usr/local/sbin/logfmon -a -e /etc/logfmon.conf ]; then
        	echo -n ' logfmon';     /usr/local/sbin/logfmon
	fi

If you change the configuration, send a HUP to a running logfmon to make it
reload.

At the moment, the program assumes each log line has a 15 character date,
followed by a space, the hostname, another space and the message, for example:

Nov 16 11:46:34 hostname message

If this isn't the case, it almost certainly won't work properly.

If you are doing any kind of log rotation, you may occasionally see 
`No such file or directory' messages from logfmon in your logs. This happens
when logfmon sees that the file has been renamed or deleted by log rotation
and tries to reopen it before the log file has been recreated. An occasional
one or two of these is normal. If a file is renamed or deleted after logfmon
has started it tries to reopen every second until it suceeds, so if you see a 
lot (more than 5 or 10) of these messages, something is probably wrong. This
only applies when logfmon is running. If opening a file fails when logfmon is
initially started, it will report it to stderr and exit immediately.

Feedback is welcome.

Nicholas Marriott
nicm__@ntlworld.com
